<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Cardcard — Hướng dẫn</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
  <link rel="icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 64 64'%3E%3Crect width='64' height='64' rx='12' fill='%231c1f44'/%3E%3Cpath d='M10 42h44' stroke='%2306b6d4' stroke-width='6' stroke-linecap='round'/%3E%3Ctext x='14' y='40' font-family='Inter, Arial' font-size='20' fill='%23a78bfa' font-weight='800'%3EF%3C/text%3E%3C/svg%3E" />
  <link rel="stylesheet" href="assets/css/styles.css" />
  <style>
    .guide { max-width: 900px; margin: 24px auto; padding: 0 16px; }
    .guide h1 { margin: 8px 0 12px; }
    .card.guide-card { margin-top: 10px; }
    .guide a { color: var(--primary-2); text-decoration: none; }
    .guide a:hover { color: #fff; }
    .kbd{ display:inline-block; padding:0 6px; border:1px solid rgba(255,255,255,.2); border-bottom-width:2px; border-radius:6px; font-size:12px; line-height:1.6 }
    .step{ margin: 8px 0; }
    .hint{ color: var(--muted); }
    ul.tight li{ margin: 6px 0; }
  </style>
</head>
<body>
  <header class="app-header">
    <a class="brand" href="index.html" aria-label="Trang chủ">Cardcard</a>
    <nav class="nav">
      <a href="study.html" class="nav-btn">Học từ</a>
      <a href="index.html" class="nav-btn">Luyện tập</a>
      <a href="admin.html" class="nav-btn">Nhập dữ liệu</a>
      <a href="guide.html" class="nav-btn secondary" aria-current="page">Hướng dẫn</a>
    </nav>
  </header>

  <main class="guide">
    <div class="card guide-card">
      <h1>Hướng dẫn sử dụng (Supabase)</h1>
      <p>
        Ứng dụng dùng Supabase làm nguồn dữ liệu duy nhất. Bạn có thể thêm/sửa từ ở trang Nhập dữ liệu, và luyện tập ở trang Luyện tập. Không còn sử dụng Google Sheets/App Script.
      </p>
      <h3>1) Kết nối Supabase</h3>
      <ul class="tight">
        <li>Mở <code>assets/js/config.js</code> và điền <b>SUPABASE_URL</b>, <b>SUPABASE_ANON_KEY</b>. Đảm bảo <b>DATA_SOURCE = 'supabase'</b>.</li>
        <li>Trong <a href="admin.html">Nhập dữ liệu</a>, bấm <b>Kiểm tra kết nối</b> để xác nhận cấu hình đúng.</li>
      </ul>

      <h3>2) Nhập dữ liệu</h3>
      <ul class="tight">
        <li>Mở trang <a href="admin.html">Nhập dữ liệu</a>.</li>
        <li>Điền <b>Từ vựng</b>, <b>Mô tả/Định nghĩa</b>, và (tuỳ chọn) <b>Ví dụ</b>.</li>
        <li>Bấm <b>Lưu vào Database</b> để ghi trực tiếp lên Supabase.</li>
        <li>Hoặc dùng mục <b>Dán nhanh và nhập</b> để dán TSV/CSV và import hàng loạt.</li>
      </ul>

      <h3>3) Học từ và luyện tập</h3>
      <ul class="tight">
        <li>Trang <a href="study.html">Học từ</a>: xem Cardcard, dịch nhanh từng dòng, và đánh dấu từ muốn luyện tập.</li>
        <li>Trang <a href="index.html">Luyện tập</a>: ôn theo lịch SRS; tiến độ (reps, ease, due, …) được ghi về Supabase.</li>
      </ul>

      <h3>4) Góp ý (Feedback)</h3>
      <ul class="tight">
        <li>Góp ý gửi thẳng vào bảng <code>feedback</code> của Supabase. Xem danh sách tại <a href="feedback.html">Góp ý</a>.</li>
        <li>Nếu offline, góp ý được lưu tạm và sẽ tự gửi khi bạn mở app sau.</li>
      </ul>

      <h3>5) Khắc phục sự cố</h3>
      <ul class="tight">
        <li>Nếu không kết nối được, kiểm tra lại URL/Key trong <code>config.js</code> và CORS (Supabase dựa trên PostgREST).</li>
        <li>Nếu dữ liệu không xuất hiện, kiểm tra bảng <code>words_shared</code> có dữ liệu và chính sách RLS cho phép <code>anon</code> đọc/ghi phù hợp.</li>
        <li>Nếu UI vẫn hiển thị dữ liệu cũ, làm mới trình duyệt hoặc xoá cache cứng (Cmd+Shift+R).</li>
      </ul>
    </div>
  </main>

  <footer class="app-footer">
    <span>Cardcard — học nhanh, nhớ lâu.</span>
  </footer>
</body>
</html>
